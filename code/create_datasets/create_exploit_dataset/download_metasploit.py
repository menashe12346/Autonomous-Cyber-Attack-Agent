import subprocess
import os

def download_metasploit(destination_dir):
    """
    מוריד את מאגר הקוד הרשמי של Metasploit מ־GitHub לתיקייה שצוינה.

    Args:
        destination_dir (str): שם התיקייה להורדה. ברירת מחדל: metasploit-framework.
    """
    repo_url = "https://github.com/rapid7/metasploit-framework.git"

    if os.path.exists(destination_dir):
        print(f"✅ Metasploit already exists, Skipping...")
        return

    try:
        print(f"⬇️ Downloading Metasploit...")
        subprocess.run(["git", "clone", "--depth", "1", repo_url, destination_dir], check=True)
        print(f"✅ Metasploit downloaded successfully")
    except subprocess.CalledProcessError as e:
        print(f"❌ שגיאה בהורדה: {e}")
